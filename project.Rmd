---
title: "Project Group 1"
author: "Adil Iqbal"
date: "11/22/2022"
output: word_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Project 1

### Introduction

This data was extracted from the U.S. Census in 1994. Our goal will be to predict whether an individual earns more than $50,000 USD per year (`class`) based on data collected by the census alone. Examples of data collected by the census include education level (`education`), marital status (`marital.status`), and country of origin (`native.country`) among others. All features are either categorical or continuous integer values.


#### Features

age: continuous.
workclass: Private, Self-emp-not-inc, Self-emp-inc, Federal-gov, Local-gov, State-gov, Without-pay, Never-worked.
fnlwgt: continuous.
education: Bachelors, Some-college, 11th, HS-grad, Prof-school, Assoc-acdm, Assoc-voc, 9th, 7th-8th, 12th, Masters, 1st-4th, 10th, Doctorate, 5th-6th, Preschool.
education.num: continuous.
marital.status: Married-civ-spouse, Divorced, Never-married, Separated, Widowed, Married-spouse-absent, Married-AF-spouse.
occupation: Tech-support, Craft-repair, Other-service, Sales, Exec-managerial, Prof-specialty, Handl sdasdasders-cleaners, Machine-op-inspct, Adm-clerical, Farming-fishing, Transport-moving, Priv-house-serv, Protective-serv, Armed-Forces.
relationship: Wife, Own-child, Husband, Not-in-family, Other-relative, Unmarried.
race: White, Asian-Pac-Islander, Amer-Indian-Eskimo, Other, Black.
sex: Female, Male.
capital.gain: continuous.
capital.loss: continuous.
hours.per.week: continuous.
native.country: United-States, Cambodia, England, Puerto-Rico, Canada, Germany, Outlying-US(Guam-USVI-etc), India, Japan, Greece, South, China, Cuba, Iran, Honduras, Philippines, Italy, Poland, Jamaica, Vietnam, Mexico, Portugal, Ireland, France, Dominican-Republic, Laos, Ecuador, Taiwan, Haiti, Columbia, Hungary, Guatemala, Nicaragua, Scotland, Thailand, Yugoslavia, El-Salvador, Trinadad&Tobago, Peru, Hong, Holand-Netherlands.

#### Response Variable

class: >50K, <=50K.

```{r}
set.seed(1)
data = read.csv("adult.csv")

summary(data)
```

### Methods

#### Removing missing values. 

In this data set, missing values are marked with a "?" character. Since all the missing data occurs in our categorical variables, it does not make sense to replace them with a median or a mean. So we are opting to remove them entirely for our analysis. After removing the observations with missing variables, we are left with 45,222 observations.

```{r}
cols_missing_vals <- c("occupation", "workclass", "native.country")

for (column in cols_missing_vals) {
  data <- data[!grepl("\\?", data[, column]),]
}

summary(data)
```

#### Set categorical features to dummy variables
In this data, many categorical variables are needed to be converted to numeric and make a Dummy variable for the response variable.

```{r}
data$class_dummy = ifelse(data$class==" <=50K",0,1) # Our Response Variable. I made 0 for below 50K and 1 for above 50K
data$sex_dummy = ifelse(data$sex==" Female",0,1)


data$workclass_dummy = ifelse(data$workclass==" Private",0,
                                  ifelse(data$workclass==" State-gov",1,
                                         ifelse(data$workclass ==" Federal-gov",2,
                                                ifelse(data$workclass == " Self-emp-not-inc",3, 
                                                       ifelse(data$workclass==" Self-emp-inc",4, 
                                                              ifelse(data$workclass==" Local-gov",5,6)))))) #



data$marital.status_dummy = ifelse(data$marital.status == " Widowed",0,
                                   ifelse(data$marital.status == " Divorced",1,
                                          ifelse(data$marital.status == " Separated",2,
                                                 ifelse(data$marital.status == " Never-married",3,
                                                        ifelse(data$marital.status== " Married-civ-spouse",4,
                                                               ifelse(data$marital.status==" Married-AF-spouse",4,5
                                                                      ))))))





data$race_dummy = ifelse(data$race ==" White",0,
                         ifelse(data$race == " Black",1,
                                ifelse(data$race==" Asian-Pac_islander",2,
                                       ifelse(data$race==" Amer-Indian-Eskimo",3,4))))

data$relationship_dummy = ifelse(data$relationship==" Husband",1,
                                 ifelse(data$relationship==" Wife",1,0))


# I grouped them 

# 0 means all students who are in 1st to 12 grade
# 1 means all students who are in HS-grad, Assos-acdm, Prof-school
# 2 means all students who are in Bachelors Degree
# 3 means all students who are in Masters' Degree
# 4 means all students who are in Doc 
# and 5 means UNKNOWNs
data$education_dummy=ifelse(data$education==" Prepschool",0,
                            ifelse(data$education==" 1st-4th",0,
                                   ifelse(data$education== "5th-6th",0,
                                          ifelse(data$education==" 7th-8th",0,
                                                 ifelse(data$education==" 9th",0, ifelse(data$education==" 10th",0,
                                                                                                ifelse(data$education==" 11th",0,
                                                                                                       ifelse(data$education==" 12th",0,
                                                                                                              ifelse(data$education==" HS-grad",1,
                                                                                                                     ifelse(data$education==" Assos-voc", 1,
                                                                                                                            ifelse(data$education==" Assoc-acdm",1,
                                                                                                                                   ifelse(data$education==" Prof-school",1,
                                                                                                                                          ifelse(data$education==" Some-college",1,
                                                                                                                                                 ifelse(data$education==" Bachelors",2,
                                                                                                                                                        ifelse(data$education==" Masters",3,
                                                                                                                                                               ifelse(data$education==" Doctorate",4, 5))))))))))))))))

print(data$education_dummy)
```


#### Split data into training and testing set

Below, we are now splitting the data into training and testing sets. With the training set containing 80% of the data and the testing set containing 20%. 

```{r}
sample <- sample(c(TRUE, FALSE), nrow(data), replace=TRUE, prob=c(0.8,0.2))
train  <- data[sample, ]
test   <- data[!sample, ]

print(nrow(train))
print(nrow(test))
```


